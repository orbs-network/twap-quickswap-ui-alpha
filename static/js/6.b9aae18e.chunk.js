(this["webpackJsonpinterface-v2"]=this["webpackJsonpinterface-v2"]||[]).push([[6],{2807:function(e,t,n){},2814:function(e,t,n){"use strict";var c=n(1),a=n.n(c),s=n(115),r=n(2690),i=n(2851),o=n(24),l=n(30),u=n(16),d=n(2),b=n.n(d),j=n(411),p=n(73),m=n(74),f=n(9),h=n(22),O=n(195),x=n(3),v=n(45),k=(n(2816),n(2728)),y=n(88),w=n.n(y),g=n(666),N=n.n(g),C=n(409),S=n(0);w.a.extend(N.a);var T=function(){var e=Object(k.a)().t,t=Object(s.f)(),n=Object(c.useState)(""),a=Object(u.a)(n,2),i=a[0],d=a[1],y=Object(C.a)(i,d),g=Object(u.a)(y,2),N=g[0],T=g[1],E=Object(c.useState)(!1),R=Object(u.a)(E,2),A=R[0],U=R[1],L=Object(c.useRef)(null),q=Object(c.useRef)(null),D=Object(c.useState)([]),W=Object(u.a)(D,2),M=W[0],I=W[1],V=Object(c.useState)([]),P=Object(u.a)(V,2),z=P[0],B=P[1],F=Object(c.useState)(3),K=Object(u.a)(F,2),H=K[0],J=K[1],$=Object(c.useState)(3),_=Object(u.a)($,2),Y=_[0],G=_[1],Q=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},X=Object(c.useMemo)((function(){var e=[],t={};return M&&M.length>0&&M.map((function(n){return t[n.id]||(t[n.id]=!0,e.push(n)),!0})),e&&e.length>0?e.sort((function(e,t){return e.oneDayVolumeUSD>t.oneDayVolumeUSD?-1:1})).filter((function(e){return!h.a.blacklists.TOKEN_BLACKLIST.includes(e.id)&&Object.keys(e).map((function(t){var n="0x"===i.slice(0,2);return"id"===t&&n?e[t].match(new RegExp(Q(i),"i")):"symbol"!==t||n?"name"===t&&!n&&e[t].match(new RegExp(Q(i),"i")):e[t].match(new RegExp(Q(i),"i"))})).some((function(e){return e}))})):[]}),[M,i]),Z=Object(c.useMemo)((function(){var e=[],t={};return z&&z.length>0&&z.map((function(n){return t[n.id]||(t[n.id]=!0,e.push(n)),!0})),e?e.sort((function(e,t){var n,c;return Number(null!==(n=null===e||void 0===e?void 0:e.trackedReserveETH)&&void 0!==n?n:0)>Number(null!==(c=null===t||void 0===t?void 0:t.trackedReserveETH)&&void 0!==c?c:0)?-1:1})).filter((function(e){if(h.a.blacklists.PAIR_BLACKLIST.includes(e.id))return!1;if(i&&i.includes(" ")){var t,n,c=null===(t=i.split(" ")[0])||void 0===t?void 0:t.toUpperCase(),a=null===(n=i.split(" ")[1])||void 0===n?void 0:n.toUpperCase();return(e.token0.symbol.includes(c)||e.token0.symbol.includes(a))&&(e.token1.symbol.includes(c)||e.token1.symbol.includes(a))}if(i&&i.includes("-")){var s,r,o=null===(s=i.split("-")[0])||void 0===s?void 0:s.toUpperCase(),l=null===(r=i.split("-")[1])||void 0===r?void 0:r.toUpperCase();return(e.token0.symbol.includes(o)||e.token0.symbol.includes(l))&&(e.token1.symbol.includes(o)||e.token1.symbol.includes(l))}return Object.keys(e).map((function(t){var n="0x"===i.slice(0,2);return"id"===t&&n?e[t].match(new RegExp(Q(i),"i")):("token0"===t||"token1"===t)&&(e[t].symbol.match(new RegExp(Q(i),"i"))||e[t].name.match(new RegExp(Q(i),"i")))})).some((function(e){return e}))})):[]}),[z,i]);Object(c.useEffect)((function(){function e(){return(e=Object(l.a)(b.a.mark((function e(){var t,n,c,a,s,r,u,d,j,h;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(f.p)();case 3:return t=e.sent,e.next=6,Object(f.o)();case 6:if(n=e.sent,c=null!==t&&void 0!==t?t:[],a=null!==n&&void 0!==n?n:[],!(i.length>0)){e.next=20;break}return e.next=12,p.b.query({query:m.B,variables:{value:i?i.toUpperCase():"",id:i}});case 12:return r=e.sent,e.next=15,p.b.query({query:m.r,variables:{tokens:null===(s=r.data.asSymbol)||void 0===s?void 0:s.map((function(e){return e.id})),id:i}});case 15:u=e.sent,d=u.data.as0.concat(u.data.as1).concat(u.data.asAddress),a=a.concat(d.filter((function(e){var t=!1;return a.map((function(n){return n.id===e.id&&(t=!0),!0})),!t}))),j=r.data.asSymbol.concat(r.data.asAddress).concat(r.data.asName),c=c.concat(j.filter((function(e){var t=!1;return c.map((function(n){return n.id===e.id&&(t=!0),!0})),!t})));case 20:return e.next=22,Promise.all(c.map(function(){var e=Object(l.a)(b.a.mark((function e(t){var n,c,a,s,r,i,l,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=w()(),c=n.subtract(1,"day").unix(),e.next=4,Object(f.q)(c);case 4:return a=e.sent,e.next=7,p.b.query({query:Object(m.A)(a,t.id),fetchPolicy:"network-only"});case 7:if(!((s=e.sent)&&s.data&&s.data.tokens&&s.data.tokens.length>0)){e.next=12;break}return l=s.data.tokens[0],u=(null!==(r=null===t||void 0===t?void 0:t.tradeVolumeUSD)&&void 0!==r?r:0)-(null!==(i=null===l||void 0===l?void 0:l.tradeVolumeUSD)&&void 0!==i?i:0),e.abrupt("return",Object(o.a)(Object(o.a)({},t),{},{oneDayVolumeUSD:u}));case 12:return e.abrupt("return",t);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 22:h=e.sent,I(h),B(a),e.next=30;break;case 27:e.prev=27,e.t0=e.catch(0),console.log(e.t0);case 30:case"end":return e.stop()}}),e,null,[[0,27]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[i]);var ee=function(e){L.current&&L.current.contains(e.target)||q.current&&q.current.contains(e.target)||(G(3),J(3),U(!1))};return Object(c.useEffect)((function(){return document.addEventListener("click",ee),function(){document.removeEventListener("click",ee)}}),[]),Object(S.jsxs)(r.a,{className:"searchWidgetWrapper",children:[Object(S.jsxs)(r.a,{className:"searchWidgetInput",children:[Object(S.jsx)("input",{placeholder:e("searchTokenPair"),value:N,ref:L,onFocus:function(){return U(!0)},onChange:function(e){return T(e.target.value)}}),Object(S.jsx)(r.a,{display:"flex",children:Object(S.jsx)(j.a,{})})]}),A&&Object(S.jsxs)("div",{ref:q,className:"searchWidgetContent",children:[Object(S.jsx)("h6",{children:e("pairs")}),Z.slice(0,Y).map((function(n,c){var a=new x.Token(h.d,Object(v.getAddress)(n.token0.id),n.token0.decimals),s=new x.Token(h.d,Object(v.getAddress)(n.token1.id),n.token1.decimals);return Object(S.jsxs)(r.a,{className:"searchWidgetRow",onClick:function(){t.push("/analytics/pair/".concat(n.id)),U(!1)},children:[Object(S.jsx)(O.w,{currency0:a,currency1:s,size:28}),Object(S.jsxs)("small",{children:[n.token0.symbol," - ",n.token1.symbol," ",e("pair")]})]},c)})),Object(S.jsx)(r.a,{className:"searchWidgetShowMore",onClick:function(){return G(Y+5)},children:Object(S.jsx)("small",{children:e("showMore")})}),Object(S.jsx)("h6",{children:e("tokens")}),X.slice(0,H).map((function(e,n){var c=new x.Token(h.d,Object(v.getAddress)(e.id),e.decimals);return Object(S.jsxs)(r.a,{className:"searchWidgetRow",onClick:function(){t.push("/analytics/token/".concat(e.id)),U(!1)},children:[Object(S.jsx)(O.o,{currency:c,size:"28px"}),Object(S.jsxs)("small",{children:[e.name," ",e.symbol]})]},n)})),Object(S.jsx)(r.a,{className:"searchWidgetShowMore",onClick:function(){return J(H+5)},children:Object(S.jsx)("small",{children:e("showMore")})})]})]})},E=a.a.memo(T);n(2807),t.a=function(e){var t=e.data,n=e.type,c=Object(s.f)(),a=Object(s.g)().pathname,o=Object(k.a)().t;return Object(S.jsxs)(r.a,{width:"100%",mb:3,children:[Object(S.jsx)(r.a,{mb:4,children:Object(S.jsx)("h4",{children:o("quickswapAnalytics")})}),Object(S.jsxs)(r.a,{mb:4,position:"relative",className:"flex justify-between flex-wrap",children:[Object(S.jsxs)(r.a,{marginY:1.5,className:"flex items-center",children:[n&&t&&Object(S.jsxs)(r.a,{className:"flex items-center text-hint",children:[Object(S.jsx)("span",{className:"link",onClick:function(){c.push("/analytics")},children:o("analytics")}),Object(S.jsx)(i.a,{style:{width:16}}),Object(S.jsx)("span",{className:"link",onClick:function(){c.push("/analytics/".concat(n,"s"))},children:o("token"===n?"tokens":"pairs")}),Object(S.jsx)(i.a,{style:{width:16}}),Object(S.jsxs)("span",{children:[Object(S.jsx)("span",{className:"text-gray19",children:"token"===n?t.symbol:"".concat(t.token0.symbol,"/").concat(t.token1.symbol)}),"(",Object(f.pb)(t.id),")"]})]}),!n&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(r.a,{className:"topTab ".concat(-1===a.indexOf("pair")&&-1===a.indexOf("token")&&"selectedTab"),onClick:function(){return c.push("/analytics")},children:Object(S.jsx)("p",{children:o("overview")})}),Object(S.jsx)(r.a,{className:"topTab ".concat(a.indexOf("token")>-1&&"selectedTab"),onClick:function(){return c.push("/analytics/tokens")},children:Object(S.jsx)("p",{children:o("tokens")})}),Object(S.jsx)(r.a,{className:"topTab ".concat(a.indexOf("pair")>-1&&"selectedTab"),onClick:function(){return c.push("/analytics/pairs")},children:Object(S.jsx)("p",{children:o("pairs")})})]})]}),Object(S.jsx)(E,{})]})]})}},2816:function(e,t,n){},2851:function(e,t,n){"use strict";var c=n(1),a=n(144);t.a=Object(a.a)(c.createElement("path",{d:"M5.88 4.12L13.76 12l-7.88 7.88L8 22l10-10L8 2z"}),"ArrowForwardIos")},3055:function(e,t,n){"use strict";n.r(t);var c=n(2814);n.d(t,"default",(function(){return c.a}))}}]);
//# sourceMappingURL=6.b9aae18e.chunk.js.map